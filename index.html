<html>
<head>
<title>OTTrees</title>
<meta name="ttw" content="8bwgdwr" />
<link rel="stylesheet" href="css/style.css" type="text/css">
<script type="text/javascript" src="javascript/jquery-1.9.1.min.js"></script>
<script type="text/javascript"src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript" src="javascript/data_load.js"></script>
<script type="text/javascript">
	function toggle(type) {
		if ($('#' + type).is(':checked')) {
			toggleDataOn(type);
		} else {
			toggleDataOff(type);
		}
	}
	
	/*function advancedOriginListFilter(listName){
		toggleOriginList(listName);
		if (toggleDataOn(treeName) = )
	}*/

	function toggleOriginList(listName) {
		if (listName == 'nativeList') {
			toggleArray(nonNativeArray, 'off');
			toggleArray(nativeArray, 'on');
		} else if (listName == 'nonNativeList') {
			toggleArray(nativeArray, 'off');
			toggleArray(nonNativeArray, 'on');
		}
	}

	function togglePersistenceList(listName) {
		if (listName == 'coniferousList') {
			toggleArray(marcescentArray, 'off');
			toggleArray(deciduousArray, 'off');
			toggleArray(coniferousArray, 'on');
		} else if (listName == 'marcescentList') {
			toggleArray(coniferousArray, 'off');
			toggleArray(deciduousArray, 'off');
			toggleArray(marcescentArray, 'on');
		} else if (listName == 'deciduousList') {
			toggleArray(coniferousArray, 'off');
			toggleArray(marcescentArray, 'off');
			toggleArray(deciduousArray, 'on');
		}
	}

	function toggleNourishmentList(listName) {
		if (listName == 'foodBearingList') {
			toggleArray(nonFoodBearingArray, 'off');
			toggleArray(foodBearingArray, 'on');
		} else if (listName == 'nonFoodBearingList') {
			toggleArray(foodBearingArray, 'off');
			toggleArray(nonFoodBearingArray, 'on');
		}
	}

	function toggleAllergenList(listName) {
		if (listName == 'mildAllergenList') {
			toggleArray(severeAllergenArray, 'off');
			toggleArray(moderateAllergenArray, 'off');
			toggleArray(mildAllergenArray, 'on');
		} else if (listName == 'moderateAllergenList') {
			toggleArray(mildAllergenArray, 'off');
			toggleArray(severeAllergenArray, 'off');
			toggleArray(moderateAllergenArray, 'on');
		} else if (listName == 'severeAllergenList') {
			toggleArray(mildAllergenArray, 'off');
			toggleArray(moderateAllergenArray, 'off');
			toggleArray(severeAllergenArray, 'on');
		}
	}

	var _gaq = _gaq || [];
	_gaq.push([ '_setAccount', 'UA-40391491-1' ]);
	_gaq.push([ '_trackPageview' ]);

	(function() {
		var ga = document.createElement('script');
		ga.type = 'text/javascript';
		ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl'
				: 'http://www')
				+ '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(ga, s);
	})();
</script>
</head>
<body onload="initialize()">

	<div class="main_content">
		<div class="map_canvas_container" id="map_canvas"></div>
	</div>
	<div id="sidebar_menu">
		<img src="images/OTTrees_logo.png" alt="OTTrees" height="98"
			width="200">
		<div class="submenublock" id="about">
			<h5>About</h5>
			<div class="second_level">
				<p>
					This application was made using the city of Ottawa's <a
						href="http://ottawa.ca/en/open-data-ottawa">open data</a> tree
					inventory to show unique information about the trees owned and
					cared for by the city.
				</p>
				<p>The trees displayed show foliage based on the season, the
					location, and the estimated span of branches over the houses and
					buildings of the city. The size of the tree on the map is a
					combination of the growth factor, the diameter at breast height,
					and estimated age of the tree.</p>
				<p>
					Please be patient! The data and calculations can take some time to
					load. Source code is available on <a
						href="http://www.github.com/emdaniels/ottrees">Github</a>.
				</p>
			</div>
		</div>
		<div class="submenublock" id="allergen">
			<h5>Allergen</h5>
			<ul class="second_level">
				<li><input type="radio" name="allergen" id="mildAllergenList"
					onclick="toggleAllergenList('mildAllergenList')" /> Mild</li>
				<li><input type="radio" name="allergen"
					id="moderateAllergenList"
					onclick="toggleAllergenList('moderateAllergenList')" /> Moderate</li>
				<li><input type="radio" name="allergen" id="severeAllergenList"
					onclick="toggleAllergenList('severeAllergenList')" /> Severe</li>
			</ul>
		</div>
		<div class="submenublock" id="age">
			<h5>Age</h5>
			<ul class="second_level">
				<li><input type="radio" name="estimatedAge" /> 0-9 years</li>
				<li><input type="radio" name="estimatedAge" /> 10-19 years</li>
				<li><input type="radio" name="estimatedAge" /> 20-29 years</li>
				<li><input type="radio" name="estimatedAge" /> 30-39 years</li>
				<li><input type="radio" name="estimatedAge" /> 40-49 years</li>
				<li><input type="radio" name="estimatedAge" /> 50+ years</li>
			</ul>
		</div>
		<div class="submenublock" id="foliage">
			<h5>Foliage</h5>
			<ul class="second_level">
				<li><input type="radio" name="seasonalFoliage"
					id="currentSeasonList" onclick="changeSeason(0);" /> Current
					Season</li>
				<li><input type="radio" name="seasonalFoliage"
					id="earlySpringList" onclick="changeSeason(1);" /> Early Spring</li>
				<li><input type="radio" name="seasonalFoliage"
					id="lateSpringList" onclick="changeSeason(2);" /> Late Spring</li>
				<li><input type="radio" name="seasonalFoliage" id="summerList"
					onclick="changeSeason(3);" /> Summer</li>
				<li><input type="radio" name="seasonalFoliage"
					id="earlyFallList" onclick="changeSeason(4);" /> Early Fall</li>
				<li><input type="radio" name="seasonalFoliage"
					id="lateFallList" onclick="changeSeason(5);" /> Late Fall</li>
				<li><input type="radio" name="seasonalFoliage" id="winterList"
					onclick="changeSeason(6);" /> Winter</li>
			</ul>
		</div>
		<div class="submenublock" id="nourishment">
			<h5>Nourishment</h5>
			<ul class="second_level">
				<li><input type="radio" name="foodbearing" id="foodBearingList"
					onclick="toggleNourishmentList('foodBearingList')" /> Food Bearing</li>
				<li><input type="radio" name="foodbearing"
					id="nonFoodBearingList" onclick="toggleNourishmentList('nonFoodBearingList')" />
					Non-Food Bearing</li>
			</ul>
		</div>
		<div class="submenublock" id="origin">
			<h5>Origin</h5>
			<ul class="second_level">
				<li><input type="radio" name="origin" id="nativeList"
					onclick="toggleOriginList('nativeList')" /> Native</li>
				<li><input type="radio" name="origin" id="nonNativeList"
					onclick="toggleOriginList('nonNativeList')" /> Non-Native</li>
			</ul>
		</div>
		<div class="submenublock" id="persistence">
			<h5>Persistence</h5>
			<ul class="second_level">
				<li><input type="radio" name="leafPersistence"
					id="coniferousList" onclick="togglePersistenceList('coniferousList')" />
					Coniferous</li>
				<li><input type="radio" name="leafPersistence"
					id="marcescentList" onclick="togglePersistenceList('marcescentList')" />
					Marcescent</li>
				<li><input type="radio" name="leafPersistence"
					id="deciduousList" onclick="togglePersistenceList('deciduousList')" />
					Deciduous</li>
			</ul>
		</div>
		<div class="submenublock" id="species">
			<h5>Species</h5>
			<ul class="second_level" id="treeList"></ul>
		</div>
	</div>

	<script type="text/javascript">
		//array for individual speices
		var items = [];
		$.each(nameArray.sort(), function(i, item) {
			items.push('<li><input type="checkbox" id="' + item
					+ '" onclick="toggle(\'' + item + '\');" /> ' + item.replace("_", ", ").replace("_", " ")
					+ '</li>');
		});
		$('#treeList').append(items.join(''));
	</script>

</body>
</html>
